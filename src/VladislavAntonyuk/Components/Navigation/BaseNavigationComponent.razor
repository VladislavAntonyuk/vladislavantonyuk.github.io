@typeparam T
@inherits VladislavAntonyukBaseComponent

<MudStack Spacing="1" Class="mb-4">
    <MudText Typo="Typo.h3">@Title</MudText>
	<MudTextField @bind-Value="SearchFilter"
	              Placeholder="Search..."
	              Variant="Variant.Outlined"
	              Adornment="Adornment.Start"
	              AdornmentAriaLabel="Search"
	              AdornmentIcon="@Icons.Material.Filled.Search"
	              AdornmentColor="Color.Primary"
	              OnClearButtonClick="Search"
				  TextChanged="Search"
	              Clearable="true"
	              Immediate="true"
	              Margin="Margin.Dense"  />
</MudStack>

@if (isLoading)
{
	<MudStack Justify="Justify.Center" AlignItems="AlignItems.Center" Spacing="2" Class="pa-6">
		<MudProgressCircular Indeterminate="true" Size="Size.Large" Color="Color.Primary" />
		<MudText Typo="Typo.subtitle1">Loading...</MudText>
	</MudStack>
}
else if (data?.TotalCount > 0)
{
    @ChildContent(data.Items)

	@if (data.TotalPages > 1)
	{
		<MudStack Justify="Justify.Center" AlignItems="AlignItems.Center">
			<MudText>Total items: @data.TotalCount</MudText>
			<MudPagination BoundaryCount="2" MiddleCount="2" Count="@data.TotalPages" Selected="Page" SelectedChanged="SetPage"/>
		</MudStack>
	}
}
else
{
	<MudStack Justify="Justify.Center" AlignItems="AlignItems.Center" Spacing="2" Class="pa-6">
		<MudIcon Icon="@Icons.Material.Filled.Inbox" Title="NotFound" Style="font-size: 6rem" Color="Color.Default" />
		<MudText Typo="Typo.subtitle1">No items found</MudText>
		<MudText Typo="Typo.caption">Try adjusting your search criteria.</MudText>
	</MudStack>
}