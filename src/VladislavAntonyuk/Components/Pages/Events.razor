@page "/events"
@using VladislavAntonyuk.Components.Navigation
@inherits VladislavAntonyukBaseComponent

<Head Title="Vladislav Antonyuk - Events" Description="Vladislav Antonyuk - Events" />

<MudPaper Class="hero" Elevation="0">
	<MudStack Spacing="2" AlignItems="AlignItems.Center" Justify="Justify.Center">
		<MudText Typo="Typo.h3" Align="Align.Center">Events</MudText>
		<MudText Typo="Typo.body1" Align="Align.Center">Upcoming and past talks, conferences, and meetups.</MudText>
	</MudStack>
</MudPaper>

<EventsNavigationComponent>
	<ChildContent Context="events">
		<MudTimeline>
			@foreach (var @event in events.OrderByDescending(e => e.Date))
			{
				var url = urlCreator.Encode("events", @event.Name);
				<MudTimelineItem Color="Color.Secondary" Icon="@Icons.Material.Filled.EventAvailable">
					<ItemOpposite>
						<MudStack Spacing="0" AlignItems="AlignItems.End">
							@if (@event.Date is not null)
							{
								<MudText Typo="Typo.body1" Align="Align.Center">
									<MudChip T="string"
									         Text="@(@event.Date.ToString())"
									         Color="Color.Secondary"/>
								</MudText>
							}

							@{
								var price = $"Price: {@event.Price}";
							}
							<MudText Typo="Typo.body1" Align="Align.Center">
								<MudChip T="string" Text="@price" Color="Color.Info" />
							</MudText>

						</MudStack>
					</ItemOpposite>
					<ItemContent>
						<MudPaper Class="pa-4" Elevation="1">
							<MudStack Spacing="1">
								<MudText Typo="Typo.h3" Class="mb-2">@(@event.Name)</MudText>
								@if (!string.IsNullOrWhiteSpace(@event.Image))
								{
									<MudImage Src="@(@event.Image)" Alt="@(@event.Name)" ObjectFit="ObjectFit.ScaleDown" Style="max-height:450px" />
								}

								<MudButton Href="@url" Variant="Variant.Filled" Color="Color.Primary" Size="Size.Small" EndIcon="@Icons.Material.Filled.KeyboardArrowRight">View event details</MudButton>
							</MudStack>
						</MudPaper>
					</ItemContent>
				</MudTimelineItem>
			}
		</MudTimeline>
	</ChildContent>
</EventsNavigationComponent>