@using global::Shared
@using VladislavAntonyuk.Components.Monetization
@inherits LayoutComponentBase

<PageTitle>@Constants.ProductName</PageTitle>

<MudThemeProvider @ref="mudThemeProvider" @bind-IsDarkMode="isDarkMode" Theme="theme" />
<MudPopoverProvider />
<ErrorBoundary @ref="errorBoundary">
	<ChildContent>
		<MudDialogProvider CloseButton="true"
						   CloseOnEscapeKey="true"
						   BackdropClick="false"
						   Position="DialogPosition.Center" />
	</ChildContent>
	<ErrorContent>
		<MudText Typo="Typo.h1">Error has occurred</MudText>
		<MudButton OnClick="ResetError">Go To The Homepage</MudButton>
	</ErrorContent>
</ErrorBoundary>
<MudSnackbarProvider />

<MudLayout>
    <MudAppBar Elevation="2" Dense="true">
		<MudHidden Breakpoint="Breakpoint.SmAndDown">
			<MudLink Href="/">
				<MudImage Src="https://avatars2.githubusercontent.com/u/33021114" Alt="@Constants.ProductName"
						  Class="mud-icon-root mud-icon-size-large" />
			</MudLink>
		</MudHidden>
		<MudHidden Breakpoint="Breakpoint.MdAndUp">
			<MudIconButton Icon="@Icons.Material.Outlined.Menu" Color="Color.Inherit" Edge="Edge.Start" OnClick="DrawerToggle" aria-label="Menu" />
		</MudHidden>
		<MudHidden Breakpoint="Breakpoint.Xs">
            <MudLink Href="/" Typo="Typo.h6" Class="ml-4" Color="Color.Inherit">@Constants.ProductName</MudLink>
		</MudHidden>
		<MudHidden Breakpoint="Breakpoint.Xs" Invert="true">
			<MudLink Href="/" Typo="Typo.subtitle2" Color="Color.Inherit">@Constants.ProductName</MudLink>
		</MudHidden>
        <MudSpacer />

        <MudIconButton Icon="@(!isDarkMode ? Icons.Material.Outlined.DarkMode : Icons.Material.Outlined.LightMode)" Color="Color.Inherit" OnClick="ToggleTheme" aria-label="Toggle theme"></MudIconButton>
		
        <MudIconButton Icon="@Icons.Material.Filled.ErrorOutline"
                       Color="Color.Inherit"
                       Href="https://github.com/VladislavAntonyuk/vladislavantonyuk.github.io/issues"
                       Target="_blank"
                       aria-label="Submit issue"></MudIconButton>

        <MudIconButton Icon="@Icons.Material.Filled.RssFeed" Color="Color.Inherit" OnClick="RssClicked" aria-label="RSS"></MudIconButton>
	</MudAppBar>

    <MudDrawer @bind-Open="drawerOpen" Elevation="1" ClipMode="DrawerClipMode.Always" Variant="DrawerVariant.Responsive" Color="Color.Default">
		<NavMenu />
		<NavCategories />
		<MudStack Row="true" Justify="Justify.Center">
			<MudIconButton Href="https://www.youtube.com/c/VladislavAntonyuk" Target="_blank" Icon="@Icons.Custom.Brands.YouTube"></MudIconButton>
			<MudIconButton Href="https://github.com/VladislavAntonyuk" Target="_blank" Icon="@Icons.Custom.Brands.GitHub"></MudIconButton>
			<MudIconButton Href="https://www.linkedin.com/in/vladislav-antonyuk/" Target="_blank" Icon="@Icons.Custom.Brands.LinkedIn"></MudIconButton>
		</MudStack>
		<BuyMeACoffee />
		<MudLink Href="https://mvp.microsoft.com/en-us/PublicProfile/5005304"><MudImage Src="https://ik.imagekit.io/VladislavAntonyuk/vladislavantonyuk/misc/MVP_Badge_Horizontal_Preferred_Blue3005_RGB.png" Alt="MVP" Fluid="true" Class="side-image" /></MudLink>
		<MudImage Src="https://img.shields.io/badge/made_in-ukraine-ffd700.svg?labelColor=0057b7" Alt="Made in Ukraine" Fluid="true" Class="side-image" ObjectFit="ObjectFit.Contain" />
		<Ads Slot="1005616791" />
	</MudDrawer>

	<MudMainContent>
        <MudContainer MaxWidth="MaxWidth.False" Class="py-2">

			<ErrorBoundary @ref="errorBoundary">
				<ChildContent>
					@Body
				</ChildContent>
				<ErrorContent>
					<MudText Typo="Typo.h1">Error has occurred</MudText>
					<MudButton OnClick="ResetError">Go To The Homepage</MudButton>
				</ErrorContent>
			</ErrorBoundary>

            <MudScrollToTop Class="scroll-to-top">
                <MudFab Color="Color.Primary" StartIcon="@Icons.Material.Filled.ArrowUpward" Class="scroll-to-top-fab" />
			</MudScrollToTop>
		</MudContainer>
	</MudMainContent>

    <MudDrawer Open="true" Anchor="Anchor.End" Elevation="1" ClipMode="DrawerClipMode.Always" Variant="DrawerVariant.Responsive" Color="Color.Default">
		<Affiliate Class="mt-2 mx-2"/>
		<Ads Slot="1173073065" />
	</MudDrawer>

</MudLayout>